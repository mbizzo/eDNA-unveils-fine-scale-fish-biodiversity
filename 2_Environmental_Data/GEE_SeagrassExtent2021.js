var HC = ee.Image("projects/ee-manuelabizzozzero/assets/HC_reclass_10_EPSG4326"),
    SB = ee.FeatureCollection("users/manuelabizzozzero/SB_Polygon1"),
    land = ee.FeatureCollection("users/manuelabizzozzero/AUS_complete"),
    habVisParam = {"opacity":1,"bands":["b1"],"min":1,"max":25,"palette":["ffb05e","37ffe3","d69fff","fff1af","ff8864","66ffa3","ff2300","1889ff","9bffdf","ff0e93","000000","2927ba","972373"]},
    Seagrass = 
    /* color: #d63000 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[113.3854314049319, -26.05160382037025],
         [113.34938251577174, -26.03988248509929],
         [113.40294086538111, -26.08876503822483],
         [113.32912647329127, -26.00648568046791],
         [113.36775028310572, -26.091000502980098],
         [113.36989605031764, -26.08575865621703],
         [113.3531590660647, -26.06247585319491],
         [113.35805141530787, -26.058620637838104],
         [113.33410465322291, -26.06147350940604],
         [113.33994114003931, -26.090152573100546],
         [113.33805286489283, -26.08413980314524],
         [113.33504879079615, -26.07434911931566],
         [113.3195134361819, -26.05322312323006],
         [113.34629261098658, -26.070263001237187],
         [113.36586200795924, -26.070185903299183],
         [113.3689519127444, -26.069954609180638],
         [113.36242098729231, -26.04579225430117],
         [113.38156123082258, -26.044635538358815],
         [113.3522071353636, -26.02342705726161],
         [113.36933035771467, -26.01579106548459],
         [113.34195036809065, -25.998048965200145],
         [113.33285231511213, -25.999360429560703],
         [113.33963293950178, -26.004297575840766],
         [113.34306616704085, -26.00314045080005],
         [113.32255263249495, -25.996274607763045],
         [113.33748717228987, -25.993805891970258],
         [113.32753081242659, -25.987839773234512],
         [113.33139319340803, -25.985370880247185],
         [113.33033963832594, -25.969016100585883],
         [113.33772107753492, -25.986068207174206],
         [113.32982465419508, -25.99185455912073],
         [113.77045605819166, -25.82996662125365],
         [113.77749417464673, -25.849742359129046],
         [113.75534985701978, -25.852059612008443],
         [113.73114560286939, -25.79813310511621],
         [113.79380200545728, -25.77061958727439],
         [113.80341504256666, -25.785149993120445],
         [113.77818082015455, -25.75964331395903],
         [113.7512299839729, -25.775257144187545],
         [113.72256253402173, -25.777885012650565],
         [113.71638272445142, -25.782522285591316],
         [113.68110631148755, -25.76969205414353],
         [113.67938969771802, -25.77139252601256],
         [113.67732976119458, -25.764590492353296],
         [113.7688391948622, -25.757320665770223],
         [113.75682289847548, -25.752295878443906],
         [113.75077183493788, -25.748507821310362],
         [113.73141701468641, -25.74692298605665],
         [113.74369080313856, -25.763697974266723],
         [113.78918106803114, -25.763311480472645],
         [113.80420143851454, -25.766828527623133],
         [113.76373226889784, -25.807209124627786],
         [113.81308491477186, -25.799713670498264],
         [113.82149632224257, -25.804350089807627],
         [113.83033688315565, -25.82459366166689],
         [113.84690220603163, -25.795772571478157],
         [113.80656178244764, -25.80581825144015],
         [113.7796113082406, -25.77442159451418],
         [113.77459021296472, -25.77061491973756],
         [113.65626863250105, -25.730736570604524],
         [113.63764337310164, -25.730891210668915],
         [113.58060319046162, -25.601300764824856],
         [113.53030640701435, -25.599791376038112],
         [113.52438408950947, -25.578696642353815],
         [113.58768422226093, -25.582799762618055],
         [113.58030278305195, -25.59038629369809],
         [113.58176190475605, -25.582567514283337],
         [113.53455502609394, -25.59712087228427],
         [113.56828648666523, -25.62641574519342],
         [113.54382474044941, -25.61612272436224],
         [113.4068384355438, -26.107796049187193],
         [113.42254545153502, -26.130761602287375],
         [113.41250326098326, -26.116736196950107],
         [113.42915441454771, -26.133073320633642],
         [113.43808080614927, -26.130222194756012],
         [113.45052625597837, -26.13823599305424],
         [113.43325255655753, -26.134196757209175],
         [113.43426106714713, -26.13034390494049],
         [113.43286631845939, -26.128455960930616],
         [113.43106387400138, -26.126818433761517],
         [113.4305274321984, -26.123196527432995],
         [113.44827292704093, -26.124872636341088],
         [113.44850896143424, -26.1345049798996],
         [113.43664286875236, -26.135969026569352],
         [113.43913195871818, -26.136180926540398],
         [113.42132209085929, -26.126625781997156],
         [113.42655776285636, -26.124005686459782],
         [113.42790959619987, -26.124159811353312],
         [113.43739388727653, -26.114276141076164],
         [113.42949746393668, -26.117763457413442],
         [113.42016337656486, -26.118495587958236],
         [113.75912750472898, -25.969133903299547],
         [113.76582229843015, -25.954703281184784],
         [113.75238979568357, -25.95169346319277],
         [113.78079054283963, -25.93221747230142],
         [113.77915975975857, -25.935497940860152],
         [113.77203581261502, -25.934533106648033],
         [113.7687742464529, -25.922607103469026],
         [113.79439470696316, -25.92928427013126],
         [113.77778646874295, -25.928242193888586],
         [113.23735406665155, -26.06521341541139],
         [113.24482133654901, -26.07007069260492],
         [113.2419030931408, -26.06791192761028],
         [113.2294576433117, -26.070610377635973],
         [113.37968808668599, -26.032481802202504],
         [113.34243756788716, -26.00587143010984],
         [113.8001285989881, -25.873488360823554],
         [113.82055630284552, -25.888932751564877],
         [113.82347454625372, -25.84846416265731],
         [113.80442013341192, -25.834405036734694],
         [113.73776622364596, -25.74226280346997],
         [113.75699229786471, -25.795287394877363],
         [113.34010526001309, -25.566983599823278],
         [113.35795804321621, -25.567912711393497],
         [113.37855740845059, -25.566906173533727],
         [113.36774274170254, -25.55219427038103],
         [113.37864323913907, -25.538100121984343],
         [113.3876554614291, -25.542127190606497],
         [113.38834210693692, -25.575732448106052],
         [113.3546964770541, -25.57673891177283],
         [113.33572789490078, -25.57836471982113],
         [113.33598538696621, -25.592130086923643],
         [113.35624142944668, -25.592362316697965],
         [113.36259290039395, -25.600412670144298],
         [113.37452336609219, -25.589962587290707],
         [113.37684079468106, -25.58307277411296],
         [113.37761327087735, -25.576879345082755],
         [113.31581517517422, -25.582917942293108],
         [113.32791730224942, -25.569833929995475],
         [113.32705899536465, -25.58067285839537],
         [113.35091992676114, -25.56116208081535],
         [113.35146907244474, -25.535880081708015],
         [113.33095553789884, -25.541456090096077],
         [113.35267070208342, -25.526121443202516],
         [113.42622760210783, -25.540759103227398],
         [113.33026889239103, -25.522945842032737],
         [113.33241465960295, -25.5193828723903],
         [113.3424568501547, -25.520157440006585],
         [113.35679057513029, -25.5205447219401],
         [113.33001224122766, -26.17067849781529],
         [113.33224383912805, -26.17063998196572],
         [113.33185760102991, -26.182078629947974],
         [113.33215800843958, -26.18485146645887],
         [113.33275882325891, -26.163745439926167],
         [113.37477294526819, -26.179536805184615],
         [113.3756741674972, -26.184196774899785],
         [113.37623206697229, -26.185775730632784],
         [113.37524501405481, -26.16093358230272],
         [113.35284511036963, -26.107246630357306],
         [113.35125940425026, -26.108992817712938],
         [113.28968996169839, -25.96675668940581],
         [113.29398149612221, -25.9664094422109],
         [113.28157896163735, -25.97157946113557],
         [113.28473949478922, -25.983499652588737],
         [113.28851604508219, -25.98164791934359],
         [113.29482460068522, -25.98859176861605],
         [113.28920269059, -25.985158472186296],
         [113.29018974350748, -25.998042459834004],
         [113.29319381760416, -25.998119605205922],
         [113.29079055832682, -26.00552532503396],
         [113.30984497116862, -26.012602751073658],
         [113.31480169342814, -26.01252561521452],
         [113.32559452744884, -26.019955788956725],
         [113.3272253105299, -26.022578213736875],
         [113.3221827575819, -26.021382703825278],
         [113.31145392152233, -26.022250413843906],
         [113.2891186347358, -25.98744166916892],
         [113.2952602529568, -25.99164402382477],
         [113.29647261143153, -25.99248302271104],
         [113.42665238403231, -26.106710989319165],
         [113.42766089462191, -26.106768794731188],
         [113.42708153747469, -26.10987097658644],
         [113.42562241577059, -26.10979390474247],
         [113.43534274124056, -26.11179775617196],
         [113.43396945022494, -26.10888830676965],
         [113.43300385497957, -26.108368066463875],
         [113.70808321253894, -25.76357981443931],
         [113.2512143685886, -26.061089939152954],
         [113.2402280404636, -26.053841943617833],
         [113.22606597686497, -26.05299374462683],
         [113.26365981841771, -26.056694931534736],
         [113.27147041106907, -26.06498362395365],
         [113.28391586089818, -26.0638270974253],
         [113.40635535440076, -26.092736337584732],
         [113.24992818969321, -26.138390969350993],
         [113.33644552367758, -26.11727653708684],
         [113.33850546020102, -26.107411553031294],
         [113.33069486754965, -26.091610430394084],
         [113.33902044433188, -26.097314496481655],
         [113.39412374633383, -26.070179157061773],
         [113.46519155639243, -26.15218264277381],
         [113.40565269781001, -26.070099929742494],
         [113.2894120322795, -25.897703986149114],
         [113.28439241679688, -25.87026732105985],
         [113.27319151195069, -25.878607770345898],
         [113.30460404005795, -25.845747101456475],
         [113.31679199782162, -25.833078222015008],
         [113.35781906691342, -25.791972279413926],
         [113.41807221022397, -25.823034853868425],
         [113.43197678175717, -25.857178827973566],
         [113.37412689772397, -25.85069068638067],
         [113.44879959669858, -25.87710446488046],
         [113.47911206288495, -25.952241356576994],
         [113.36696922347807, -25.74971075569498],
         [113.35495292709135, -25.705173155721624],
         [113.44147026107572, -25.782175566882447],
         [113.38104545638822, -25.709503932134396],
         [113.46859275863432, -25.84800545955005],
         [113.5252822775395, -25.512984976016632],
         [113.53541029877974, -25.497801632675657],
         [113.51154936738325, -25.47703762859046],
         [113.58776701875044, -25.562704723227377],
         [113.52167738862349, -25.522512318147033],
         [113.84098089844065, -25.77727566869253],
         [113.87290991455393, -25.78763204845005],
         [113.87617148071604, -25.778048564074187],
         [113.95891932397507, -25.8009621919716],
         [113.86776713281296, -25.768347930235024],
         [113.40655038764255, -25.632596530161663],
         [113.90196512152927, -25.523280671160972],
         [113.26692941911945, -25.893642031689257],
         [113.2561147523714, -25.88800528800447],
         [113.25886133440265, -25.9101646330614],
         [113.25562898182113, -25.92146024461118],
         [113.21400109791, -25.95542142066243],
         [113.2180351402684, -25.93512307664027],
         [113.20258561634262, -25.94538845597551],
         [113.18919602894027, -25.902700217739497],
         [113.20756379627426, -25.91551603234734],
         [113.20636216663559, -25.905402463171015],
         [113.47726515330683, -25.43343735061842],
         [113.5026710370959, -25.42258512715747],
         [113.4978645185412, -25.403048662842778],
         [113.47108534373652, -25.455448858338617],
         [113.19987426999734, -25.948425771838902],
         [113.21257721189187, -25.956760695268517],
         [113.3747066849849, -26.121818136577488],
         [113.37545770350907, -26.113337376138812],
         [113.37934154216263, -26.11944497705357],
         [113.37717121577826, -26.110297775914518],
         [113.37219303584662, -26.10654047809944],
         [113.36641471066645, -26.112384266297465],
         [113.36551348843744, -26.113424708847923],
         [113.37064187207392, -26.115775304215667],
         [113.36278836407831, -26.090185952798958],
         [113.33322935878215, -26.129995709178196],
         [113.33408766566691, -26.141939173058443],
         [113.36811953364787, -26.149374325407287],
         [113.24583107587983, -26.059610669190466],
         [113.23956543562105, -26.060073297822186],
         [113.24437195417573, -26.06369715890197],
         [113.23853546735933, -26.04704189254115],
         [113.2232576048105, -26.044805588593142],
         [113.25492912885835, -26.066935407998262],
         [113.25630241987398, -26.057605924011238]]),
    Other = 
    /* color: #98ff00 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[113.35920706225325, -26.01506142149014],
         [113.3568038029759, -26.02724799533149],
         [113.33259954882551, -26.037119734798473],
         [113.33543196154524, -26.016604095722005],
         [113.30255880785872, -26.005882090684523],
         [113.29697981310774, -26.013133050192494],
         [113.36331804210171, -26.05449640438104],
         [113.38941057139859, -26.059508336017878],
         [113.31542451793179, -26.06320931715425],
         [113.31053216868862, -26.06197566976615],
         [113.30984552318081, -26.083408444707608],
         [113.36882144070226, -26.021116536554686],
         [113.3809664831217, -26.019458224690382],
         [113.37298422909338, -26.010780629419397],
         [113.3384526378813, -26.05686167623511],
         [113.35244304010298, -26.055782176998207],
         [113.30755359002974, -26.03627237026716],
         [113.33338862726119, -26.046374691337896],
         [113.33356028863814, -26.05107852855203],
         [113.38325625726607, -26.03534692329748],
         [113.37677604028609, -26.03746772846206],
         [113.66399791080893, -25.74824276833925],
         [113.61816432316245, -25.721181644860568],
         [113.71661212284506, -25.76756836926049],
         [113.7395289166683, -25.7545046074672],
         [113.72751262028159, -25.7368005307508],
         [113.74708201725424, -25.745073069617998],
         [113.77223040897788, -25.75210814012832],
         [113.78982570011557, -25.757596751935033],
         [113.79188563663901, -25.76501757013462],
         [113.80415942509116, -25.760379613114086],
         [113.72845675785483, -25.79345974178391],
         [113.72926924436258, -25.796055820445424],
         [113.74428961484598, -25.802856049894782],
         [113.72712347715067, -25.810660377777417],
         [113.77312872617411, -25.808960468960684],
         [113.77750609128641, -25.774261548274655],
         [113.74480459897684, -25.77766233668612],
         [113.83785896857918, -25.82131874060374],
         [113.83863144477547, -25.83970544845901],
         [113.8414638574952, -25.815601283027007],
         [113.79006762267639, -25.83692265124337],
         [113.78034729720642, -25.837791720573478],
         [113.7784161067157, -25.83163084690439],
         [113.77593643689683, -25.8235157448197],
         [113.78750212216904, -25.83425434790395],
         [113.7546075108104, -25.82734003530674],
         [113.76460678601792, -25.813548831625887],
         [113.77550728345444, -25.813703363813392],
         [113.72443802381089, -25.83981640674051],
         [113.67136758579308, -25.73789338584425],
         [113.2971249073903, -25.980892354347176],
         [113.29363390954578, -25.979596221156708],
         [113.29436347039783, -25.975526092279818],
         [113.28082367929065, -25.976587039922006],
         [113.28795787413365, -25.970809149363944],
         [113.28217632939553, -25.95751702504982],
         [113.33245619126657, -25.963712286956202],
         [113.34322794267038, -25.964175293602313],
         [113.35859163590769, -25.965082009673193],
         [113.35485800095896, -25.97113946540921],
         [113.38076360544012, -25.999361889380417],
         [113.3984447272663, -25.99990189985508],
         [113.42007406076239, -25.996353214152883],
         [113.43148954232977, -25.997201822659207],
         [113.43681104501532, -26.01741232242327],
         [113.41552503427313, -26.023197130393967],
         [113.42117905978303, -26.066209733468877],
         [113.45714211825471, -26.07060438412987],
         [113.34745049838166, -26.16192947749073],
         [113.82199485898558, -25.854318529250207],
         [113.8050862133557, -25.81515160466914],
         [113.77178390622679, -25.85941622834233],
         [113.74691787825017, -25.851273673175765],
         [113.78545585737615, -25.891895730005228],
         [113.78202262983709, -25.881316805739935],
         [113.79180732832342, -25.88695386876152],
         [113.79541221723943, -25.874675536945457],
         [113.82177052512205, -25.909621354111525],
         [113.82091221823728, -25.915411464481323],
         [113.79353222861326, -25.919888954892517],
         [113.78615078940427, -25.912863850942138],
         [113.75453269057698, -25.81057018492709],
         [113.73770987563557, -25.794033660482093],
         [113.7147857235334, -25.756624982707223],
         [113.71418490871406, -25.747348231877524],
         [113.74593871660093, -25.755725929855966],
         [113.76233237809996, -25.749309539219144],
         [113.75795501298765, -25.73268715671083],
         [113.71333674573408, -25.725734258975102],
         [113.69702891492354, -25.71258856550595],
         [113.71690870479918, -25.693664101532175],
         [113.6838638897357, -25.6894100958408],
         [113.74480367855406, -25.681829854607674],
         [113.69417209209935, -25.618401742075093],
         [113.65949649395482, -25.65291402907629],
         [113.63512057842748, -25.669315473539385],
         [113.60542316021458, -25.653687732803586],
         [113.62447757305638, -25.617937383223044],
         [113.65174409748609, -25.58232708162438],
         [113.6194717586189, -25.572417379623747],
         [113.61020204426343, -25.542838236921973],
         [113.57174989582593, -25.551666284756305],
         [113.56694337727124, -25.56684281177598],
         [113.54273912312085, -25.57334644903409],
         [113.54802153574565, -25.51646267792879],
         [113.58389876352885, -25.518786422318005],
         [113.50320724381952, -25.490368564165845],
         [113.50458053483514, -25.46820846397365],
         [113.51728347672967, -25.465418791363508],
         [113.4937658680871, -25.451314456441033],
         [113.52483657731561, -25.448059375201424],
         [113.51539520158319, -25.444029152693606],
         [113.4553137196496, -25.493777447791928],
         [113.45617202653436, -25.524607954809525],
         [113.52466491593866, -25.542111200236135],
         [113.72695155689792, -25.727417860164415],
         [113.68987269947604, -25.731129269792028],
         [113.67459483692721, -25.721386572443727],
         [113.73965449879245, -25.734222022645085],
         [113.79630275318698, -25.80734215799506],
         [113.57351835344232, -25.592513677614857],
         [113.56364782426752, -25.604666391203278],
         [113.56055791948236, -25.6137220688573],
         [113.54785497758783, -25.597932237502057],
         [113.54639585588373, -25.5776500821253],
         [113.64127312259721, -25.56258567464294],
         [113.6325183923726, -25.581012384484985],
         [113.6519161279683, -25.57094772634479],
         [113.67783699588823, -25.5503512510019],
         [113.64161644535112, -25.53741857206376],
         [113.69448814945268, -25.572573613038333],
         [113.67715035038042, -25.58774749071962],
         [113.72183250061146, -25.654364734900046],
         [113.76260207763782, -25.635794566137072],
         [113.65875243968466, -25.613290739724942],
         [113.61824035472372, -25.59192745180789],
         [113.3589363423422, -25.543469584957364],
         [113.3736133900717, -25.53921022901381],
         [113.34108355913908, -25.54734159541486],
         [113.35000995074064, -25.556401611110562],
         [113.35927966509611, -25.55446576786213],
         [113.34202769671232, -25.527360679396782],
         [113.31336024676115, -25.519460329376876],
         [113.34396374519909, -26.17040114929849],
         [113.3587695389613, -26.183418808388126],
         [113.36563599403942, -26.164931758279163],
         [113.35121643837536, -26.15507079963821],
         [113.35224640663708, -26.13257236853326],
         [113.36477768715466, -26.13673336409196],
         [113.34194672401989, -26.14228112751957],
         [113.33593857582653, -26.164623615940453],
         [113.34257608315434, -26.177033641600747],
         [113.36390500924077, -26.17349032333984],
         [113.36055761239018, -26.165170805036972],
         [113.37085729500737, -26.17322071862815],
         [113.34012990853276, -26.191667945219976],
         [113.33583837410893, -26.182425440978065],
         [113.30336475418864, -25.999855362681394],
         [113.30370807694254, -25.993259347845587],
         [113.30229187058268, -25.9881288580927],
         [113.30190563248453, -25.992294987166133],
         [113.29358005570231, -26.001321093465897],
         [113.29628372238932, -26.001089663505276],
         [113.30855751084147, -26.00494676998648],
         [113.31379318283854, -26.006026737103074],
         [113.30885791825114, -25.99125346874336],
         [113.31417942093668, -25.999006773341982],
         [113.32053089188395, -26.00058823035971],
         [113.33117389725504, -26.00124395019636],
         [113.34237480210123, -25.995882368853774],
         [113.34104442642985, -26.001205378542576],
         [113.31211948441324, -26.012004946839827],
         [113.31851387070475, -26.01281487442497],
         [113.32469368027506, -26.01129143457632],
         [113.33213911744518, -26.018644554593365],
         [113.33155976029796, -26.02307955297864],
         [113.32827673646374, -26.015848491223114],
         [113.32696781846447, -26.018027498059656],
         [113.31263409348888, -26.017853950325076],
         [113.30036030503673, -26.01486503241261],
         [113.3033429214613, -26.020206464446513],
         [113.30589638444347, -26.02153696385303],
         [113.30523119660778, -26.023773711469936],
         [113.29870806428356, -26.01731402239884],
         [113.28655444291756, -25.98780814229286],
         [113.2871552577369, -25.9887243201037],
         [113.28957396984522, -25.99188511607209],
         [113.29233128071253, -25.994691393443553],
         [113.28817922115748, -25.9951349912923],
         [113.28438121319239, -25.994440663483907],
         [113.29427320003931, -25.995511083808744],
         [113.43358321212679, -26.10994804837961],
         [113.4354929449454, -26.111161922419598],
         [113.43339009307772, -26.107982701781886],
         [113.42718882583529, -26.1062100078845],
         [113.4265236379996, -26.10987097658644],
         [113.80507078866192, -25.86566846437184],
         [113.7945136139793, -25.85539614681332],
         [113.79541483620831, -25.865475383928665],
         [113.80241003731915, -25.86308116022557],
         [113.80781737069317, -25.871537959272878],
         [113.80567160348126, -25.859760059952908],
         [113.80292502145001, -25.857558814167493],
         [113.7857588837547, -25.86169094355976],
         [113.78043738106915, -25.87570821267156],
         [113.77597418526837, -25.86489614070643],
         [113.2459357812473, -26.062285044292427],
         [113.24825320983616, -26.05993337418442],
         [113.26237235809056, -26.06024179262572],
         [113.27880893493382, -26.061938079540138],
         [113.23692957937973, -25.955985246811174],
         [113.23692957937973, -25.970955855184084],
         [113.23641459524887, -25.912914842348943],
         [113.31967036307114, -25.937771011572607],
         [113.2875696855809, -25.9187819884053],
         [113.37580363333481, -25.914767656852913],
         [113.35292501586508, -26.125522408251168],
         [113.35841817992758, -26.112035867969173],
         [113.25799627441, -26.129375419564486],
         [113.2415081827172, -25.863591582022547],
         [113.25180786533438, -25.83408471447333],
         [113.29695480747306, -25.805961375831025],
         [113.31120270176017, -25.83315767792057],
         [113.28751343174063, -25.852469438906823],
         [113.28699844760978, -25.86513624135694],
         [113.2554127542504, -25.80348867506096],
         [113.36132782383048, -25.821260064313858],
         [113.38106888218009, -25.874403773359564],
         [113.3161808816918, -25.867298730507],
         [113.32510727329337, -25.810443014454584],
         [113.22039383335196, -25.76863175102034],
         [113.24356811924063, -25.745131617752012],
         [113.33369034214103, -25.734307624269093],
         [113.31532257480704, -25.76368474104185],
         [113.18674820346915, -25.777906838969198],
         [113.34261673374259, -25.722245441861407],
         [113.30261963291251, -25.7117286948444],
         [113.35154312534415, -25.755026977526985],
         [113.216617283059, -25.73384371680468],
         [113.28709963091144, -25.884762108022215],
         [113.30529573686847, -25.899355716302466],
         [113.30649736650714, -25.8794338332355],
         [113.32246187456379, -25.892869890930655],
         [113.35267427690754, -25.912480700654008],
         [113.36065653093586, -25.906227213774237],
         [113.34700945146808, -25.89093951693558],
         [113.31602457292804, -25.90977861737401],
         [113.33130243547687, -25.919119842322104],
         [113.26713029407699, -25.931032112292346],
         [113.29777184986312, -25.94230121792012],
         [113.23554460071762, -25.926941005908713],
         [113.2114261772557, -25.939985736269076],
         [113.2099670555516, -25.91814078640067],
         [113.20370141529281, -25.919839125534025],
         [113.19880906604965, -25.90478481252935],
         [113.21683351062973, -25.905634081327907],
         [113.2443851616307, -25.901850927820778],
         [113.28271853010122, -25.93619641327407],
         [113.2626341489977, -25.93928381134664],
         [113.30241667310659, -25.96363282678823],
         [113.28439222852651, -25.950050478863176],
         [113.46593550242793, -25.46319843130425],
         [113.46284559764277, -25.442738478523214],
         [113.4703986982287, -25.41917422654053],
         [113.50095442332636, -25.409251057880763],
         [113.50541761912714, -25.430336815065328],
         [113.54455641307246, -25.412352135803946],
         [113.5576026777209, -25.456688823547754],
         [113.57545546092402, -25.48396482541475],
         [113.36653744371912, -25.45264465598002],
         [113.40773617418787, -25.418849901953557],
         [113.45511471422694, -25.421640653508195],
         [113.39983975084803, -25.465353989870998],
         [113.36379086168787, -25.416059085797635],
         [113.85662314937666, -25.693153601145934],
         [113.87447593257978, -25.7166640099628],
         [113.95618674800947, -25.737695701356184],
         [113.946917033654, -25.70398133996113],
         [113.91533134029463, -25.752230136940643],
         [113.88202903316572, -25.74264379392937],
         [113.35719137285162, -26.119437879782712],
         [113.3426001558106, -26.115122131516245],
         [113.34466009233404, -26.106181860304908],
         [113.35015325639654, -26.091999338264962],
         [113.34569006059576, -26.081823861032195],
         [113.36337118242193, -26.074114577181458],
         [113.32818060014654, -26.100478226663807],
         [113.3700659761231, -26.079048577330642],
         [113.34487466905523, -26.05622708387494],
         [113.34444551561285, -26.06231839044969],
         [113.34908037279058, -26.059812511529834],
         [113.3497670182984, -26.05422228080625],
         [113.35208444688726, -26.049634237044128],
         [113.35676221940923, -26.042578323510842],
         [113.35882215593267, -26.047744990353003],
         [113.34066896531988, -26.03945507866605],
         [113.32401781175543, -26.048554671234786],
         [113.32792310808111, -26.06093052567004],
         [113.3275797853272, -26.046395509788926],
         [113.32002255938397, -26.03407517121636],
         [113.3138856651579, -26.022814859534222],
         [113.33645913622723, -26.03168437349348],
         [113.31701848528729, -26.016104433974025],
         [113.32030540091681, -26.006569074586544],
         [113.33721404654669, -25.999047703517917],
         [113.34862952811407, -25.996463326398313],
         [113.33120589835333, -25.995383271356033],
         [113.24342781660249, -26.059225143935297],
         [113.25304085371187, -26.05768303022931],
         [113.25424248335054, -26.059764878937347]]),
    bat = ee.Image("projects/ee-manuelabizzozzero/assets/Bathymetry_10_EPSG4326"),
    GoodTile = 
    /* color: #d63000 */
    /* shown: false */
    /* displayProperties: [
      {
        "type": "rectangle"
      }
    ] */
    ee.Geometry.Polygon(
        [[[113.17913055247763, -25.38242769406599],
          [113.17913055247763, -26.2650274454706],
          [114.09648895091513, -26.2650274454706],
          [114.09648895091513, -25.38242769406599]]], null, false),
    OtherSample = 
    /* color: #069e47 */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[113.33913457918973, -26.129343200715724],
         [113.32878573806424, -26.11142018117594],
         [113.35322867481452, -26.079426556406354],
         [113.33266767944875, -26.048076073695206],
         [113.33173765332107, -26.016486513083564],
         [113.3018339973392, -26.00806369531317],
         [113.26123494508198, -25.985837856550642],
         [113.26586980225972, -25.95883106222811],
         [113.34054250123432, -25.953274609913315],
         [113.71003586070178, -25.765125778571335],
         [113.70890291119373, -25.72001083986231],
         [113.63832866860216, -25.67197726696034],
         [113.65824138832872, -25.667103597185097],
         [113.59704180445877, -25.60916035904933]]),
    Samples = ee.FeatureCollection("projects/ee-manuelabizzozzero/assets/SampleCoord"),
    drone = ee.FeatureCollection("projects/ee-manuelabizzozzero/assets/Oct-2nd-2022-12-15PM-Flight-Airdata"),
    checked = 
    /* color: #ffc82d */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[113.35851948529968, -26.09746778663826],
         [113.3280170640771, -26.070549672914332],
         [113.3113612037601, -25.980746642970715],
         [113.330757802748, -25.953583308589916],
         [113.4324316619457, -26.05992960769718],
         [113.447795355183, -26.0600067123861],
         [113.39689442630153, -26.02908923332904],
         [113.39140126223903, -26.002015236233753],
         [113.43339009307772, -26.109504884875008],
         [113.79161926387025, -25.840451152149996],
         [113.77527786996376, -25.78184764403277],
         [113.68504758128276, -25.75664205252461],
         [113.72461552867045, -25.750496286983626],
         [113.6991182127074, -25.724882344666565],
         [113.69920404339588, -25.71560311597003],
         [113.67405565167225, -25.716299083231732],
         [113.66916330242908, -25.720784107915584],
         [113.71319444561756, -25.67515269497486],
         [113.61353850240236, -25.703917129310597],
         [113.67300426674669, -25.662229728179526],
         [113.59833156777208, -25.66354491880637],
         [113.67257281031814, -25.639729043976196],
         [113.60768480982986, -25.640812347473474],
         [113.60742731776443, -25.627115572635745],
         [113.32179611516841, -26.012030738521663]]),
    SeagrassSample = 
    /* color: #bc000d */
    /* shown: false */
    ee.Geometry.MultiPoint(
        [[113.35794771222871, -26.05664224508689],
         [113.40824753473154, -26.087335777316127],
         [113.39887818934393, -26.083395739987274],
         [113.80228129128643, -25.866981403019246],
         [113.77132030604554, -25.818278619304714],
         [113.77560663816398, -25.799953440883314]]),
    Seagrass_Validation = /* color: #1ed6d2 */ee.Geometry.MultiPoint(
        [[113.71485140015406, -25.781675228231702],
         [113.75364687134547, -25.78708518950219],
         [113.80325700928492, -25.784766664888455],
         [113.67639925171656, -25.76235192396523],
         [113.65717317749781, -25.73011365393496],
         [113.77480420714826, -25.817700111814627],
         [113.73164206139947, -25.798593178745694],
         [113.5872229398045, -25.615045633609732],
         [113.5788115323338, -25.592289289240256],
         [113.53492946125449, -25.592612510424342],
         [113.53973597980918, -25.61683928839858],
         [113.58350963093223, -25.59323178632329],
         [113.58445376850547, -25.582548827780982],
         [113.52995128132285, -25.577052151453138],
         [113.52669502359056, -25.513944820526202],
         [113.76907972252621, -25.75911304423288],
         [113.78937868035092, -25.7634418559355],
         [113.75663427269711, -25.752812795227317],
         [113.779516226413, -25.77436012127067],
         [113.75243664419864, -25.776419177632274],
         [113.78492355978702, -25.78866906525263],
         [113.80475704849376, -25.806655945993946],
         [113.81767456710948, -25.811253459863288],
         [113.80486394106636, -25.834496991673554],
         [113.82031346499214, -25.83689179414615],
         [113.36703132822002, -26.072020444513996],
         [113.39724373056377, -26.075798124599213],
         [113.40170692636455, -26.088209643781415],
         [113.38548492624248, -26.0525904506801],
         [113.3689196033665, -26.085357423551816],
         [113.36720298959698, -26.09098471025084],
         [113.33424400522198, -26.061997437410415],
         [113.34668945505108, -26.058913262679237],
         [113.34029698871332, -26.091698041252062],
         [113.33735890224445, -26.12561447442981],
         [113.36910335498258, -26.144530879741783],
         [113.33749510788277, -25.99384497212343],
         [113.33423354172066, -25.977565584416286],
         [113.32908370041207, -26.006805147001625],
         [113.31502020285097, -25.963147087763783],
         [113.2911485559739, -25.996514584367528],
         [113.26724526059334, -26.056565783473456],
         [113.24969288479988, -26.05995843918466],
         [113.40784817280218, -26.10763348019517],
         [113.4366872841303, -26.129057892112616],
         [113.45471178682685, -26.10289679790095],
         [113.3850837919202, -26.023313375113098],
         [113.46863242874915, -25.89751144245243],
         [113.3052643619232, -25.847408201308962],
         [113.32213009220884, -25.84516810282129]]),
    Other_Validation = /* color: #fffd14 */ee.Geometry.MultiPoint(
        [[113.36260529478805, -26.054666849038775],
         [113.33312245329635, -26.0498860445317],
         [113.38908406218307, -26.062762927964968],
         [113.38337632139938, -26.036236545857722],
         [113.33506610259711, -26.017295990084445],
         [113.35944201812445, -26.01424920691552],
         [113.31983115539252, -26.021268259500832],
         [113.31300761565863, -26.018221579436787],
         [113.33937478786696, -25.975757492963844],
         [113.32928968197096, -25.98108141414985],
         [113.29641652828444, -25.980618474050786],
         [113.35804296261061, -25.976259032055275],
         [113.40881526004574, -26.079598569577723],
         [113.42894190238721, -26.125640738629667],
         [113.4463011591316, -26.12244264596565],
         [113.41701143668897, -26.122153657376167],
         [113.42840594659063, -26.081786268948242],
         [113.28872015431486, -26.02956485615735],
         [113.27078154042326, -26.028099477962293],
         [113.27407618820318, -25.985483039858675],
         [113.24961444198736, -25.973677939906565],
         [113.30034037887701, -25.965421381495258],
         [113.26686641037115, -25.958553335390768],
         [113.30943843185553, -25.960019581133803],
         [113.28265925705084, -25.943349605673788],
         [113.66114140409724, -25.742973136518202],
         [113.68929386991755, -25.739725983004487],
         [113.74044896024958, -25.73555094097203],
         [113.69770527738825, -25.7040014401906],
         [113.62732411283747, -25.728592211698043],
         [113.8099345849632, -25.81958625629473],
         [113.77834889160383, -25.831561292529592],
         [113.70886689429994, -25.74472237643363],
         [113.59327530821139, -25.63606447520738],
         [113.65095353086764, -25.660669270926004],
         [113.57654671771915, -25.61182107209177],
         [113.55079751117619, -25.596030989659347],
         [113.59233956439884, -25.573116182743153],
         [113.52772666282992, -25.521200690986284],
         [113.61288104193122, -25.679962239596087],
         [113.77516391102519, -25.813377655639048],
         [113.78744823783572, -25.83447232741085],
         [113.79519098088915, -25.874065650134842],
         [113.83329980657274, -25.87078347295778],
         [113.82930863163908, -25.878766997887276],
         [113.74731828085253, -25.766142547119102],
         [113.68637849203417, -25.776499898683788],
         [113.54943382476439, -25.555643952982283],
         [113.7441980685958, -25.802822493061292],
         [113.74007819554892, -25.815803669389133]]);
// Go to the Study Area
Map.addLayer(SB,{},'SharkBay',false);
Map.setCenter(113.53343963450888, -26.054865840279668, 9);

// load 2021 scenery
var sentinel21 = ee.ImageCollection('COPERNICUS/S2_SR')
  .filterDate('2021-07-01', '2021-11-30')
  .map(function(image) { return image.clip(SB); })
  .filter(ee.Filter.lt('CLOUDY_PIXEL_PERCENTAGE', 0.5))
  .select(['B2','B3','B4'])//, 'B8'
  .sort('CLOUDY_PIXEL_PERCENTAGE')
  .mosaic();
// NIR (B8) is fully absorbed by the water and does not contain much information

// Load Landsat data for 2016
var landsat2016 = ee.ImageCollection("LANDSAT/LC08/C02/T1_L2")
  .filterBounds(SB)
  .filterDate('2016-01-01', '2016-12-31')
  .sort('CLOUD_COVER',false)
  .mosaic();

// Clip to only look at water body
var diff1 = SB.geometry().difference(land, ee.ErrorMargin(1));
Map.addLayer(diff1, {color: 'FFFF00'}, 'diff1', false);


// Add Habitat Classes for comparison 
var SB_HC = HC.clip(diff1);
print("HC: ", SB_HC);
Map.addLayer(SB_HC,habVisParam , 'HC');

// Mask the land
var SB_water = sentinel21.clip(diff1);
var SB_water16 = landsat2016.clip(diff1);

// Add Bathmetry and clip
var SB_bat = bat.clip(diff1);
var SB_water = SB_water.addBands(SB_bat);

// only use the good tile
var SB_water = SB_water.clip(GoodTile);


Map.addLayer(SB_water, {bands: ['B4', 'B3', 'B2'], min: 0, max: 3000, gamma: 1.5}, 'SB_water');
Map.addLayer(Samples.draw({color: 'ff0000', pointRadius: 5}), {}, 'Samples', false);
//Map.addLayer(drone.draw({color: 'ff0000', pointRadius: 2}), {}, 'DroneFollow', false);
Map.addLayer(SB_water16, {bands: ['B4', 'B3', 'B2'], min: 0, max: 3000, gamma: 1.5}, 'SB_water16', false);


// Perform PCA on the SB_water image

// Set some information about the input to be used later.
var scale = 10;
var bandNames = SB_water.bandNames();

// Mean center the data to enable a faster covariance reducer
// and an SD stretch of the principal components.
var meanDict = SB_water.reduceRegion({
    reducer: ee.Reducer.mean(),
    geometry: diff1,
    scale: scale,
    maxPixels: 1e9
});
var means = ee.Image.constant(meanDict.values(bandNames));
var centered = SB_water.subtract(means);

// This helper function returns a list of new band names.
var getNewBandNames = function(prefix) {
  var seq = ee.List.sequence(1, bandNames.length());
  return seq.map(function(b) {
    return ee.String(prefix).cat(ee.Number(b).int());
  });
};

// This function accepts mean centered imagery, a scale and
// a region in which to perform the analysis.  It returns the
// Principal Components (PC) in the region as a new image.
var getPrincipalComponents = function(centered, scale, region) {
  // Collapse the bands of the image into a 1D array per pixel.
  var arrays = centered.toArray();

  // Compute the covariance of the bands within the region.
  var covar = arrays.reduceRegion({
    reducer: ee.Reducer.centeredCovariance(),
    geometry: region,
    scale: scale,
    maxPixels: 1e9
  });

  // Get the 'array' covariance result and cast to an array.
  // This represents the band-to-band covariance within the region.
  var covarArray = ee.Array(covar.get('array'));

  // Perform an eigen analysis and slice apart the values and vectors.
  var eigens = covarArray.eigen();

  // This is a P-length vector of Eigenvalues.
  var eigenValues = eigens.slice(1, 0, 1);
  // This is a PxP matrix with eigenvectors in rows.
  var eigenVectors = eigens.slice(1, 1);

  // Convert the array image to 2D arrays for matrix computations.
  var arrayImage = arrays.toArray(1);

  // Left multiply the image array by the matrix of eigenvectors.
  var principalComponents = ee.Image(eigenVectors).matrixMultiply(arrayImage);

  // Turn the square roots of the Eigenvalues into a P-band image.
  var sdImage = ee.Image(eigenValues.sqrt())
    .arrayProject([0]).arrayFlatten([getNewBandNames('sd')]);

  // Turn the PCs into a P-band image, normalized by SD.
  return principalComponents
    // Throw out an an unneeded dimension, [[]] -> [].
    .arrayProject([0])
    // Make the one band array image a multi-band image, [] -> image.
    .arrayFlatten([getNewBandNames('pc')])
    // Normalize the PCs by their SDs.
    .divide(sdImage);
};

// Get the PCs at the specified scale and in the specified region
var pcImage = getPrincipalComponents(centered, scale, diff1);
print("PCA Result: ", pcImage);

// Plot each PC as a new layer
//for (var i = 0; i < bandNames.length().getInfo(); i++) {
//  var band = pcImage.bandNames().get(i).getInfo();
//  Map.addLayer(pcImage.select([band]), {min: -2, max: 2}, band);
//}

// all layers seem to contain slighltly different infomration
Map.addLayer(pcImage, { bands: ['pc1', 'pc2','pc4']}, 'PCA124 Result', false);
Map.addLayer(pcImage, { bands: ['pc1', 'pc2','pc3']}, 'PCA123 Result', false);
//Map.addLayer(pcImage, { bands: ['pc1']}, 'PCA1 Result', false);
//Map.addLayer(pcImage, { bands: ['pc2']}, 'PCA2 Result', false);
//Map.addLayer(pcImage, { bands: ['pc3']}, 'PCA3 Result', false);
//Map.addLayer(pcImage, { bands: ['pc4']}, 'PCA4 Result', false);



// Perform supervised clustering on the PCA
//BUILD THE CLASSIFIER AND TRAIN DATA 

///////////
// SEAGRASS
///////////

// extract the values from the pcImage for the Seagrass points
// Assuming you have a MultiPoint variable called 'Seagrass' with 100 points
var seagrass = ee.FeatureCollection(Seagrass);

//var seagrass = ee.FeatureCollection.randomPoints(seagrass, 150);
//Map.addLayer(seagrass.draw({color: 'ff0000', pointRadius: 5}), {}, 'Seagrass_train', false);

var seagrassWithBands = pcImage.sampleRegions({
  collection:seagrass,
  scale:10
});

// Print the resulting FeatureCollection
print("Seagrass with bands: ",seagrassWithBands);

// add discrete calssifiacation value to the properties. 2 = seagrass
// Function to add the new property
var addDiscreteClassification_Seagrass = function(feature) {
  // Add the new property "discrete_classification" with value 2
  return feature.set('discrete_classification', 2);
};

// Map over the FeatureCollection to apply the function to each feature
var seagrassWithBands = seagrassWithBands.map(addDiscreteClassification_Seagrass);

//.....
/// Add the Groundtruthed Seagrass samples
//.....

var seagrassSample = ee.FeatureCollection(SeagrassSample);
var seagrassSampleWithBands = pcImage.sampleRegions({
  collection:seagrassSample,
  scale:10
});

// Print the resulting FeatureCollection
print("Seagrass Samples with bands: ",seagrassSampleWithBands);


// Map over the FeatureCollection to apply the function to each feature
var seagrassSampleWithBands = seagrassSampleWithBands.map(addDiscreteClassification_Seagrass);

//.....
/// Add the Validation Seagrass samples
//.....

var seagrassVal = ee.FeatureCollection(Seagrass_Validation);
var seagrassValWithBands = pcImage.sampleRegions({
  collection:seagrassVal,
  scale:10
});

// Print the resulting FeatureCollection
print("Seagrass Validation with bands: ",seagrassValWithBands);


// Map over the FeatureCollection to apply the function to each feature
var seagrassValWithBands = seagrassValWithBands.map(addDiscreteClassification_Seagrass);


///////////
// OTHER
///////////

// extract the values from the pcImage for the Sand points
// Assuming you have a MultiPoint variable called 'Sand' with 100 points

var other = ee.FeatureCollection(Other);

//var other = ee.FeatureCollection.randomPoints(other, 150);
//Map.addLayer(other.draw({color: 'ff0000', pointRadius: 5}), {}, 'Other_train', false);

var otherWithBands = pcImage.sampleRegions({
  collection:other,
  scale:10
});

// add discrete calssifiacation value to the properties. 1 = other
// Function to add the new property
var addDiscreteClassification_Other = function(feature) {
  // Add the new property "discrete_classification" with value 1
  return feature.set('discrete_classification', 1);
};

// Map over the FeatureCollection to apply the function to each feature
var otherWithBands = otherWithBands.map(addDiscreteClassification_Other);

// Print the resulting FeatureCollection
print("Other with bands: ",otherWithBands);


//.....
/// Add the Groundtruthed Other samples
//.....

var otherSample = ee.FeatureCollection(OtherSample);
var otherSampleWithBands = pcImage.sampleRegions({
  collection:otherSample,
  scale:10
});

// Print the resulting FeatureCollection
print("Other Samples with bands: ",otherSampleWithBands);


// Map over the FeatureCollection to apply the function to each feature
var otherSampleWithBands = otherSampleWithBands.map(addDiscreteClassification_Other);


//.....
/// Add the  Validation Other samples
//.....

var otherVal = ee.FeatureCollection(Other_Validation);
var otherValWithBands = pcImage.sampleRegions({
  collection:otherVal,
  scale:10
});

// Print the resulting FeatureCollection
print("Other Validation with bands: ",otherValWithBands);


// Map over the FeatureCollection to apply the function to each feature
var otherValWithBands = otherValWithBands.map(addDiscreteClassification_Other);




//// MERGING THE FEATURE COLLECTIONS

// Merge the two FeatureCollections
var mergedFeatureCollection_hand = seagrassWithBands.merge(otherWithBands);
var mergedFeatureCollection_ground = seagrassSampleWithBands.merge(otherSampleWithBands);
var mergedFeatureCollection_val = seagrassValWithBands.merge(otherValWithBands);
var mergedFeatureCollection_all = mergedFeatureCollection_hand.merge(mergedFeatureCollection_ground);


// Extract zonal statistics per point per image.

// Random Forest approach
var classifier_rf = ee.Classifier.smileRandomForest(10).train({
      features: mergedFeatureCollection_hand,
      classProperty: 'discrete_classification',
      inputProperties: ['pc1', 'pc2', 'pc3', 'pc4']
    });

// apply classifier to original image with function classify
var classification_rf = pcImage.classify(classifier_rf);
print(classification_rf, 'classification_rf');
print('Results of trained classifier_rf', classifier_rf.explain());

// Get a confusion matrix and overall accuracy for the training sample.
var trainAccuracy_rf = classifier_rf.confusionMatrix();
print('Training error matrix rf', trainAccuracy_rf);
print('Training overall accuracy rf', trainAccuracy_rf.accuracy());
print('Training overall accuracy rf info', trainAccuracy_rf.accuracy().getInfo());
print('Training overall Kappa Coefficient', trainAccuracy_rf.kappa().getInfo());
print('Training overall producersAccuracy', trainAccuracy_rf.producersAccuracy().getInfo());
print('Training overall consumersAccuracy', trainAccuracy_rf.consumersAccuracy().getInfo());


//VALIDATION 
// instead of 300 points we choose 50 points and use the built classifier algorhithm 
//Sample the input with a different random seed to get validation data.
var validation_rf = mergedFeatureCollection_ground;

//print('validation_rf', validation_rf);

// With Ground Data
// Classify the validation data.
var validated_rf = mergedFeatureCollection_ground.classify(classifier_rf);
print('classified test validation data ground', validated_rf);

// Get a confusion matrix representing expected accuracy.
var testAccuracy_rf = validated_rf.errorMatrix('discrete_classification', 'classification');
print('Ground Validation test data error matrix rf: ', testAccuracy_rf);
print('Ground Validation test data accuracy rf: ', testAccuracy_rf.accuracy());
print('Ground Validation test data accuracy rf inf: ', testAccuracy_rf.accuracy().getInfo());
print('Ground Validation test data Kappa: ', testAccuracy_rf.kappa().getInfo());
print('Ground Validation test data producersAccuracy: ', testAccuracy_rf.producersAccuracy().getInfo());
print('Ground Validation test data consumersAccuracy: ', testAccuracy_rf.consumersAccuracy().getInfo());

// With 50 independently scored sattelite data
// Classify the validation data.
var validated_50_rf = mergedFeatureCollection_val.classify(classifier_rf);
print('classified test validation data ground', validated_50_rf);

// Get a confusion matrix representing expected accuracy.
var testAccuracy_50_rf = validated_50_rf.errorMatrix('discrete_classification', 'classification');
print('50p Validation test data error matrix rf: ', testAccuracy_50_rf);
print('50p Validation test data accuracy rf: ', testAccuracy_50_rf.accuracy());
print('50p Validation test data accuracy rf inf: ', testAccuracy_50_rf.accuracy().getInfo());
print('50p Validation test data Kappa: ', testAccuracy_50_rf.kappa().getInfo());
print('50p Validation test data producersAccuracy: ', testAccuracy_50_rf.producersAccuracy().getInfo());
print('50p Validation test data consumersAccuracy: ', testAccuracy_50_rf.consumersAccuracy().getInfo());


// VISUALIZE 
var visualization_rf = {
  min: 1,
  max: 2,
  palette: [
    "ff0000", "020202"]
};
Map.addLayer(classification_rf, visualization_rf, 'Classification_rf', true);

//var visualization_ba = {
//  min: 0,
//  max: 1
//};
//Map.addLayer(classification_ba, visualization_rf, 'Classification_ba', false);


//Export.image.toDrive({
//  image: classification_rf,
//  description: 'SeagrassOther_RF_Sentinel2_2021_new',
//  crs: 'EPSG:4326',
//  scale: 10,
//  maxPixels: 500000000
//});
